{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if item %}Edit{% else %}Create{% endif %} Document</title>
    <link href="https://unpkg.com/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-200">
    <div class="w-full flex flex-row items-center justify-center bg-gray-200 space-x-6 px-10">
        <div class="w-3/5 h-screen bg-white rounded shadow p-8 my-10">
            <div class="flex items-center justify-center w-full h-4/5">
                <label for="dropzone-file" class="flex flex-col items-center justify-center w-full h-full border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-gray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600">
                    <div class="flex flex-col items-center justify-center pt-5 pb-6">
                        <svg class="w-8 h-8 mb-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 16">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"/>
                        </svg>
                        <p class="mb-2 text-sm text-gray-500 dark:text-gray-400"><span class="font-semibold">Click to upload or take a photo</span> or drag and drop</p>
                        <p class="text-xs text-gray-500 dark:text-gray-400">SVG, PNG, JPG or GIF (MAX. 800x400px)</p>
                    </div>
                    <!-- Accept images and allow camera capture -->
                    <input id="dropzone-file" type="file" accept="image/*" capture="environment" class="hidden" name="photo" />
                </label>
            </div> 
            <!-- Add this button below the label -->
            <div class="flex justify-center mt-10">
                <button type="button" onclick="document.getElementById('dropzone-file').click()" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 focus:outline-none">
                    Take Photo
                </button>
            </div>
        </div>
        
         <div class="w-2/5 h-screen space-y-2">
            <div class="w-full h-3/5 bg-white rounded shadow py-4 px-8">
                <h1 class="text-xl font-bold mb-3 text-center">Save Document</h1>
                <form method="post" enctype="multipart/form-data" class="space-y-3">
                    {% csrf_token %}
                    <div class="flex space-x-2">
                        <div class="w-1/2">
                            <label class="block mb-1 font-semibold text-sm">Memo Order:</label>
                            <input type="text" name="memo_order" value="{{ item.memo_order|default:'' }}" required class="w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div class="w-1/2">
                            <label class="block mb-1 font-semibold text-sm">Date:</label>
                            <input type="date" name="date" value="{{ item.date|default:'' }}" required class="w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>
                    <div>
                        <label class="block mb-1 font-semibold text-sm">For:</label>
                        <div class="grid grid-cols-3 gap-1">
                            <label class="inline-flex items-center text-sm">
                                <input type="checkbox" name="for_field" value="HR" class="form-checkbox text-blue-600 h-4 w-4">
                                <span class="ml-2">HR</span>
                            </label>
                            <label class="inline-flex items-center text-sm">
                                <input type="checkbox" name="for_field" value="Finance" class="form-checkbox text-blue-600 h-4 w-4">
                                <span class="ml-2">Finance</span>
                            </label>
                            <label class="inline-flex items-center text-sm">
                                <input type="checkbox" name="for_field" value="Admin" class="form-checkbox text-blue-600 h-4 w-4">
                                <span class="ml-2">Admin</span>
                            </label>
                            <label class="inline-flex items-center text-sm">
                                <input type="checkbox" name="for_field" value="IT" class="form-checkbox text-blue-600 h-4 w-4">
                                <span class="ml-2">IT</span>
                            </label>
                            <!-- Others option as radio with input -->
                            <label class="inline-flex items-center col-span-2 text-sm">
                                <input type="checkbox" name="for_field" value="Others" class="form-radio text-blue-600 h-4 w-4" onchange="document.getElementById('others-input').disabled = !this.checked;">
                                <span class="ml-2">Others:</span>
                                <input id="others-input" type="text" name="for_field_others" placeholder="Enter name" class="ml-2 border border-gray-300 rounded px-2 py-1 w-24 text-sm" disabled>
                            </label>
                        </div>
                    </div>
                    <div>
                        <label class="block mb-1 font-semibold text-sm">From:</label>
                        <input type="text" name="from_field" value="{{ item.from_field|default:'' }}" required class="w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                        <label class="block mb-1 font-semibold text-sm">Subject:</label>
                        <textarea id="message" rows="3" class="block p-2 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Write your thoughts here..."></textarea>
                    </div>
                    <button type="submit" class="w-full h-8 bg-green-600 text-white py-1 rounded hover:bg-green-700 text-sm">Save</button>
                </form>
            </div>

            <div class="w-full h-2/5 bg-white rounded shadow py-4 px-8">
                <h1 class="text-xl font-bold mb-3 text-center">Send To</h1>
                <form method="post" action='' class="space-y-5">
                    {% csrf_token %}
                    <div class="grid grid-cols-2 gap-1 space-y-4">
                        <label class="inline-flex items-center text-sm">
                            <input type="checkbox" name="send_to" value="user1@example.com" class="form-checkbox text-blue-600 h-4 w-4">
                            <span class="ml-2">user1@example.com</span>
                        </label>
                        <label class="inline-flex items-center text-sm">
                            <input type="checkbox" name="send_to" value="user2@example.com" class="form-checkbox text-blue-600 h-4 w-4">
                            <span class="ml-2">user2@example.com</span>
                        </label>
                        <label class="inline-flex items-center text-sm">
                            <input type="checkbox" name="send_to" value="user3@example.com" class="form-checkbox text-blue-600 h-4 w-4">
                            <span class="ml-2">user3@example.com</span>
                        </label>
                        <label class="inline-flex items-center text-sm">
                            <input type="checkbox" name="send_to" value="user3@example.com" class="form-checkbox text-blue-600 h-4 w-4">
                            <span class="ml-2">user3@example.com</span>
                        </label>
                        <label class="inline-flex items-center text-sm">
                            <input type="checkbox" name="send_to" value="user3@example.com" class="form-checkbox text-blue-600 h-4 w-4">
                            <span class="ml-2">user3@example.com</span>
                        </label>
                        <label class="inline-flex items-center text-sm">
                            <input type="checkbox" name="send_to" value="user3@example.com" class="form-checkbox text-blue-600 h-4 w-4">
                            <span class="ml-2">user3@example.com</span>
                        </label>
                        <!-- Add more emails as needed -->
                    </div>
                    <button type="submit" class="w-full h-8 mt-4 bg-green-600 text-white py-1 rounded hover:bg-green-700 text-sm">Send Email</button>
                </form>
            </div>
        </div>
    </div>
    
    <a href="{% url 'item_list' %}" class="block text-center text-green-600 hover:underline mb-3">Back to List</a>
</body>
</html>
