{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create TO Form</title>
    <link href="https://unpkg.com/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-200 min-h-screen flex flex-col items-center justify-center">
    <div class="w-full flex flex-row items-center justify-center bg-gray-200 space-x-6 px-10">
        <div class="w-3/5 h-screen bg-white rounded shadow p-8 my-10">
            <div class="flex items-center justify-center w-full h-4/5">
                <label for="dropzone-file" class="flex flex-col items-center justify-center w-full h-full border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-gray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600">
                    <div class="flex flex-col items-center justify-center pt-5 pb-6">
                        <svg class="w-8 h-8 mb-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 16">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"/>
                        </svg>
                        <p class="mb-2 text-sm text-gray-500 dark:text-gray-400"><span class="font-semibold">Click to upload or take a photo</span> or drag and drop</p>
                        <p class="text-xs text-gray-500 dark:text-gray-400">SVG, PNG, JPG or GIF (MAX. 800x400px)</p>
                    </div>
                    <!-- Accept images and allow camera capture -->
                    <input id="dropzone-file" type="file" accept="image/*" capture="environment" class="hidden" name="photo" />
                </label>
            </div> 
            <!-- Add this button below the label -->
            <div class="flex justify-center mt-10">
                <button type="button" onclick="document.getElementById('dropzone-file').click()" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 focus:outline-none">
                    Take Photo
                </button>
            </div>
        </div>
        
         <div class="w-2/5 h-full space-y-2">
            <div class="w-full h-auto bg-white rounded shadow py-4 px-8">
                <h1 class="text-xl font-bold mb-3 text-center">Save Document</h1>
               <form method="post" class="space-y-4">
                    {% csrf_token %}
                    <div class="flex space-x-2">
                        <div class="w-1/2">
                            <label class="block mb-1 font-semibold text-sm">TO No:</label>
                            <input type="text" name="to_no" maxlength="10" required class="w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div class="w-1/2">
                            <label class="block mb-1 font-semibold text-sm">Series Of:</label>
                            <input type="text" name="series_of" maxlength="4" required class="w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>
                    <div>
                        <label class="block mb-1 font-semibold text-sm">Date Issued:</label>
                        <input type="datetime-local" name="date_issued" required class="w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                        <label class="block mb-1 font-semibold text-sm">Place:</label>
                        <input type="text" name="place" maxlength="200" required class="w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                        <label class="block mb-1 font-semibold text-sm">Inclusive Dates:</label>
                        <input type="text" name="inclusive_dates" maxlength="30" class="w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                        <label class="block mb-1 font-semibold text-sm">Mode of Transaction:</label>
                        <input type="text" name="mode_trans" maxlength="100" class="w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                        <label class="block mb-1 font-semibold text-sm">Purpose:</label>
                        <textarea name="purpose" maxlength="500" rows="2" class="w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                    </div>
                    <div>
                        <label class="block mb-1 font-semibold text-sm">Remarks:</label>
                        <textarea name="remarks" maxlength="500" rows="2" class="w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                    </div>
                    <button type="submit" class="w-full h-8 mt-2 bg-green-500 text-white py-1 rounded hover:bg-green-700 text-sm">Save</button>
                </form>
            </div>
            <div>
                <div class="w-full h-auto bg-white rounded shadow py-4 px-8">
                        <label class="block mb-1 font-semibold text-sm">Send To:</label>
                        <div class="relative inline-block w-full">
                            <button type="button" id="dropdownButton" class="w-full border border-gray-300 rounded px-2 py-1 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 flex justify-between items-center">
                                Select recipients
                                <svg class="w-4 h-4 ml-2 inline-block" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/></svg>
                            </button>
                            <div id="dropdownMenu" class="absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded shadow-lg hidden">
                                <div class="max-h-40 overflow-y-auto p-2">
                                    <label class="flex items-center text-sm py-1">
                                        <input type="checkbox" name="send_to" value="user1@example.com" class="form-checkbox text-blue-600 h-4 w-4">
                                        <span class="ml-2">user1@example.com</span>
                                    </label>
                                    <label class="flex items-center text-sm py-1">
                                        <input type="checkbox" name="send_to" value="user2@example.com" class="form-checkbox text-blue-600 h-4 w-4">
                                        <span class="ml-2">user2@example.com</span>
                                    </label>
                                    <label class="flex items-center text-sm py-1">
                                        <input type="checkbox" name="send_to" value="user3@example.com" class="form-checkbox text-blue-600 h-4 w-4">
                                        <span class="ml-2">user3@example.com</span>
                                    </label>
                                    <!-- Add more emails as needed -->
                                </div>
                            </div>
                        </div>
                        
                        <button type="submit" name="send" value="1" class="w-full h-8 mt-2 bg-green-500 text-white py-1 rounded hover:bg-green-700 text-sm">Send</button>
                    </div>
            </div>  
        </div>
    </div>
    <div class="flex flex-row items-center justify-center mt-10 space-x-6">
        <a href="{% url 'home' %}" class="block text-center text-green-600 hover:underline mb-3">Back to Home</a>
        <a href="{% url 'item_list' %}" class="block text-center text-green-600 hover:underline mb-3">Back to List</a>
    </div>
</body>
<script>
    const dropdownButton = document.getElementById('dropdownButton');
    const dropdownMenu = document.getElementById('dropdownMenu');
        dropdownButton.addEventListener('click', function(e) {
        e.preventDefault();
        dropdownMenu.classList.toggle('hidden');
    });
    document.addEventListener('click', function(e) {
        if (!dropdownButton.contains(e.target) && !dropdownMenu.contains(e.target)) {
        dropdownMenu.classList.add('hidden');
        }
    });
    </script>
</html>
